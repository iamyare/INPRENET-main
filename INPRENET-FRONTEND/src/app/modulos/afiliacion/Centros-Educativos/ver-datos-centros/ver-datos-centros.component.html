<div class="afiliacion-centros-container">
    <app-progressbar-dynamic [steps]="steps" (stepChange)="handleStepChange($event)"></app-progressbar-dynamic>

    <div>
        <app-buscador [searchFunction]="search" (searchResult)="handleSearchResult($event)"></app-buscador>
    </div>

    <div *ngIf="mostrar && activeStep===0">
        <app-datos-generales-centro [parentForm]="datosGeneralesData"
            (formUpdated)="onDatosGeneralesFormUpdate($event)"></app-datos-generales-centro>
    </div>

    <div *ngIf="mostrar && activeStep == 1">
        <app-datos-propietario [parentForm]="datosPropietario"
            (formUpdated)="onDatosGeneralesFormUpdate1($event)"></app-datos-propietario>
        <app-datos-administrador [parentForm]="datosAdministrador"
            (formUpdated)="onDatosGeneralesFormUpdate2($event)"></app-datos-administrador>
        <app-datos-contador [parentForm]="datosContador"
            (formUpdated)="onDatosGeneralesFormUpdate3($event)"></app-datos-contador>
    </div>

    <div *ngIf="mostrar && activeStep === 2">
        <app-ver-referencias [parentForm]="datosGeneralesData" [idCentroT]=1></app-ver-referencias>
    </div>

    <div [hidden]="activeStep !== 3">
        <app-sociedad [parentForm]="sociedadForm" (formUpdated)="onSociedadFormUpdate($event)"></app-sociedad>
    </div>
    <div *ngIf="mostrar" [hidden]="activeStep !== 4">
        <app-ver-socios></app-ver-socios>
    </div>

    <div [hidden]="activeStep !== 5">
        <button mat-button color="primary" (click)="gatherAllData()">
            <mat-icon>save</mat-icon> Enviar y Mostrar Datos
        </button>
    </div>
</div>