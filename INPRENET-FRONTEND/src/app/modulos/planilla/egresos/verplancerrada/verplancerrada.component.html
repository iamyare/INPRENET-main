<div style="background-color: white; margin-bottom: 1%">
  <app-dynamic-form [fields]="myFormFields" titulo="Detalles De Planilla Definitiva"
    subtitulo="Completa la información correspondiente" (newDatBenChange)="obtenerDatosForm($event)"></app-dynamic-form>
  <div style="text-align: center">
    <button (click)="getPlanilla()" color="primary" [disabled]="datosFormateados.invalid" mat-raised-button style="
        margin: 2% 0;
        color: #ffffff;
        border-radius: 5px;
        padding: 10px 20px;
      ">
      Ver Planilla Definitiva
    </button>
    <button (click)="descargarExcel(datosFormateados.value.codigo_planilla)" color="primary"
      [disabled]="!datosFormateados?.value?.codigo_planilla" mat-raised-button style="
        margin: 2% 0;
        color: #ffffff;
        border-radius: 5px;
        padding: 10px 20px;
      ">
      Descargar Excel
    </button>
    <button (click)="generarPDFDeduccionesSeparadas()" color="primary" [disabled]="!idPlanilla" mat-raised-button style="
        margin: 2% 0;
        color: #ffffff;
        border-radius: 5px;
        padding: 10px 20px;
      ">
      Generar PDF de Deducciones
    </button>
  </div>
</div>

<div class="card-header card-header-danger title" *ngIf="detallePlanilla">
  <div class="card-body" style="padding: 1%">
    <h4 class="card-title">Datos Generales De La Planilla</h4>
    <table>
      <tr style="background-color: #f2f2f2">
        <th>Nombre Planilla</th>
        <td>{{ detallePlanilla?.nombre_planilla }}</td>
        <th>Fecha Apertura</th>
        <td>{{ convertirFecha(detallePlanilla?.fecha_apertura, true) }}</td>
      </tr>
      <tr>
        <th>Secuencia</th>
        <td>{{ detallePlanilla?.secuencia }}</td>
        <th>Estado</th>
        <td>{{ detallePlanilla?.estado }}</td>
      </tr>
      <tr style="background-color: #f2f2f2">
        <th>Período Inicio</th>
        <td>{{ detallePlanilla?.periodoInicio }}</td>
        <th>Período Finalización</th>
        <td>{{ detallePlanilla?.periodoFinalizacion }}</td>
      </tr>
      <tr>
        <th>Total Beneficios</th>
        <td>{{ detallePlanilla?.totalBeneficios | currency: "L" }}</td>
        <th>Total Deducciones</th>
        <td>{{ detallePlanilla?.totalDeducciones | currency: "L" }}</td>
      </tr>
      <tr style="background-color: #f2f2f2">
        <th>Total Neto</th>
        <td>{{ detallePlanilla?.totalNeto | currency: "L" }}</td>
        <td></td>
        <td></td>
      </tr>
    </table>
  </div>
</div>

<div style="background-color: white;margin-bottom: 1%; padding-top: 1%;margin-top: 1%; " *ngIf="verDat">


  <app-dynamic-table-prueba titulo="Datos De Planilla Definitiva"[verOpcEditar]="false" [columns]="myColumnsDed" [data]="datosTabl"
  (ejecutarFuncionAsincronaEvent)="
      ejecutarFuncionAsincronaDesdeOtroComponente($event)
      " [nombreEncabezadoUno]="'Detalle Ingresos'" [mostrarBotonUno]="true" [etiquetaBotonUno]="'Ver Detalle'"
  (accionBotonUno)="manejarAccionUno($event)" [nombreEncabezadoTres]="'Voucher'" [mostrarBotonTres]="true"
  [etiquetaBotonTres]="'Generar Voucher'" (accionBotonTres)="manejarAccionTres($event)">
</app-dynamic-table-prueba>
</div>
<!-- <div style="background-color: white;margin-bottom: 1%; padding-top: 1%;margin-top: 1%; " *ngIf="verDat">
  <h4 class="card-title" style="text-align: center">
    Datos De La Planilla
  </h4>

  <div style="padding: 1% 1% 1% 1%">


  </div>
</div> -->
