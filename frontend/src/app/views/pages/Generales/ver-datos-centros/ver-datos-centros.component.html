<div class="afiliacion-centros-container">
    <app-progressbar-dynamic [steps]="steps" (stepChange)="handleStepChange($event)"></app-progressbar-dynamic>

    <div>
        <app-buscador [searchFunction]="searchProducts" (searchResult)="handleSearchResult($event)"></app-buscador>
    </div>

    <div [hidden]="activeStep !== 0">
        <app-dynamic-form [fields]="fields" [incomingForm]="form"
            (newDatBenChange)="handleSearchResult($event)"></app-dynamic-form>
        <!-- <app-datos-generales-centro [parentForm]="datosGeneralesForm" (formUpdated)="onDatosGeneralesFormUpdate($event)"
            [formData]="formData"></app-datos-generales-centro> -->
    </div>
    <div [hidden]="activeStep !== 1">
        <!-- <app-referencias-bancarias-comerciales [parentForm]="referenciasForm"></app-referencias-bancarias-comerciales> -->
        <h1>Editar Referencias Bancarias y comerciales</h1>
    </div>
    <div [hidden]="activeStep !== 2">
        <app-sociedad [parentForm]="sociedadForm" (formUpdated)="onSociedadFormUpdate($event)"></app-sociedad>
    </div>
    <div [hidden]="activeStep !== 3">
        <!-- <app-sociedad-socio [parentForm]="sociedadSocioForm"></app-sociedad-socio> -->
        <h1>Editar Socios</h1>
    </div>
    <div [hidden]="activeStep !== 4">
        <app-admin-centro-educativo [parentForm]="adminCentroEducativoForm"></app-admin-centro-educativo>
    </div>
    <div [hidden]="activeStep !== 5">
        <app-dynamic-form [fields]="fieldsStep5" [titulo]="'Declaración de Persona Políticamente Expuesta (PEPs)'"
            [subtitulo]="'Datos Generales'" (newDatBenChange)="onDatosBenChange($event)">
        </app-dynamic-form>
    </div>
    <div [hidden]="activeStep !== 6">
        <button mat-button color="primary" (click)="gatherAllData()">
            <mat-icon>save</mat-icon> Enviar y Mostrar Datos
        </button>
    </div>
</div>